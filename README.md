# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ3  
## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó Back-end —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–Ω—è ¬∑ –í–∞—Ä—ñ–∞–Ω—Ç 2 ‚Äî –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –≤–∏—Ç—Ä–∞—Ç

---

## üìå –û–ø–∏—Å —Ä–æ–±–æ—Ç–∏

–£ —Ä–∞–º–∫–∞—Ö –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ —Ä–æ–∑—Ä–æ–±–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –Ω–∞ Flask, —â–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î:

- –∫–æ—Ä–µ–∫—Ç–Ω—É –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –¥–∞–Ω–∏—Ö (Marshmallow);
- —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—É –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫;
- ORM (Flask-SQLAlchemy) –∑ –º—ñ–≥—Ä–∞—Ü—ñ—è–º–∏ (Flask-Migrate);
- –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —É PostgreSQL;
- REST-API –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é —á–µ—Ä–µ–∑ Flask-Smorest (Swagger `/docs`);
- –ø—ñ–¥–≥–æ—Ç–æ–≤–∫—É –¥–æ –¥–µ–ø–ª–æ—é –Ω–∞ Render.com.

---

## üéØ –ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏

–°—Ç–≤–æ—Ä–∏—Ç–∏ backend-—Å–∏—Å—Ç–µ–º—É –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç–∞–º–∏ –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é:

- –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π, –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –≤—Å—ñ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º;
- –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π, –ø—Ä–∏–≤‚Äô—è–∑–∞–Ω–∏—Ö –¥–æ –≤–ª–∞—Å–Ω–∏–∫–∞;
- –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É –¥–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π —Ç–∞ –≤–∏—Ç—Ä–∞—Ç–Ω–∏—Ö –∑–∞–ø–∏—Å—ñ–≤;
- –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–∞–Ω–∏—Ö —ñ –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä—ñ–≤ Marshmallow.

---

## üß© –í–∞—Ä—ñ–∞–Ω—Ç ‚Ññ2 ‚Äî –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –≤–∏—Ç—Ä–∞—Ç

### –¢–∏–ø–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π

#### **1. –ì–ª–æ–±–∞–ª—å–Ω—ñ**
- `is_global = true`
- –¥–æ—Å—Ç—É–ø–Ω—ñ –≤—Å—ñ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º.

#### **2. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ**
- –º—ñ—Å—Ç—è—Ç—å `user_id`;
- —ó—Ö –º–æ–∂–µ –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –≤–ª–∞—Å–Ω–∏–∫.

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∑–∞–ø–∏—Å—ñ–≤ –≤–∏—Ç—Ä–∞—Ç

- –∫–∞—Ç–µ–≥–æ—Ä—ñ—è —ñ—Å–Ω—É—î;
- —è–∫—â–æ –≤–æ–Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞ ‚Äî –≤–æ–Ω–∞ –Ω–∞–ª–µ–∂–∏—Ç—å —Å–∞–º–µ —Ü—å–æ–º—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É;
- –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –ø—Ä–æ—Ö–æ–¥—è—Ç—å Marshmallow-–≤–∞–ª—ñ–¥–∞—Ü—ñ—é.

---

## üõ†Ô∏è –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- Python 3.11  
- Flask  
- Flask-SQLAlchemy  
- Flask-Migrate  
- Marshmallow  
- Flask-Smorest  
- PostgreSQL  
- Gunicorn (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω—É)  

---

## üöÄ –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫

```bash
python -m venv venv
venv\Scripts\activate        # Windows
source venv/bin/activate    # Linux/macOS

pip install -r requirements.txt

set FLASK_APP=app.py
set DATABASE_URL=postgresql://postgres:1234@localhost:5432/lab3_db

flask db init
flask db migrate -m "Initial migration"
flask db upgrade

python app.py
```

---

## üåê –î–æ—Å—Ç—É–ø –¥–æ API

- **API:** http://localhost:5000  
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Swagger:** http://localhost:5000/docs  

---

## üìö –û—Å–Ω–æ–≤–Ω—ñ REST-–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏

| –ú–µ—Ç–æ–¥  | –®–ª—è—Ö        | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è                                      |
|--------|-------------|--------------------------------------------------|
| GET    | `/user`     | –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤                    |
| POST   | `/user`     | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞                     |
| GET    | `/category` | –û—Ç—Ä–∏–º–∞—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω—ñ —Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó     |
| POST   | `/category` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –≤–∏—Ç—Ä–∞—Ç                       |
| GET    | `/record`   | –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ –∑–∞–ø–∏—Å–∏ –≤–∏—Ç—Ä–∞—Ç                   |
| POST   | `/record`   | –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å –≤–∏—Ç—Ä–∞—Ç                       |

---

# üîê –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ4 ‚Äî –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è (JWT)

–°–∏—Å—Ç–µ–º–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é JWT-–∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ —Ç–∞ —Ä–æ–±–æ—Ç–∏ –∑ API —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –≤–∞–ª—ñ–¥–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.

---

## üß± –ù–æ–≤—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó (–¥–æ–¥–∞–Ω–æ)

- Flask-JWT-Extended  
- Docker / Docker Compose  

---

## üÜï –ù–æ–≤—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### **POST /register ‚Äî —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è**

```json
{
  "username": "testuser",
  "password": "secret123"
}
```

### **POST /login ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è**

```json
{
  "username": "testuser",
  "password": "secret123"
}
```

–ü–æ–≤–µ—Ä—Ç–∞—î:

```json
{
  "access_token": "JWT_TOKEN",
  "user_id": 1
}
```

---

## üõ°Ô∏è JWT-–∑–∞—Ö–∏—Å—Ç

```python
@jwt_required()
